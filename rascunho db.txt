CREATE TABLE transactions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  type VARCHAR(50), -- 'receita' ou 'despesa'
  paid_out BOOLEAN,
  date TIMESTAMP,
  description VARCHAR(100),
  category VARCHAR(50),
  account VARCHAR(50),
  attachment BLOB,
  fixed BOOLEAN,
  repeat BOOLEAN,
  frequency VARCHAR(50),
  INDEX date_index (date),
  INDEX category_index (category),
  INDEX account_index (account)
);

CREATE TABLE weekly_recurrence (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  transaction_id INTEGER,
  day_of_week VARCHAR(10),
  FOREIGN KEY (transaction_id) REFERENCES transactions(id)
);

CREATE TABLE monthly_recurrence (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  transaction_id INTEGER,
  day_of_month INTEGER,
  FOREIGN KEY (transaction_id) REFERENCES transactions(id)
);

CREATE TABLE yearly_recurrence (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  transaction_id INTEGER,
  month INTEGER,
  day_of_month INTEGER,
  FOREIGN KEY (transaction_id) REFERENCES transactions(id)
);
